<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="no">

<!-- 공지사항 목록 -->
<select id="list" resultType='notice.NoticeVO'>
<![CDATA[select *
from (select * from tbl_board where board_cate = 'O0' order by 1 desc)
where rownum <=5]]>
</select>
<!-- 익명게시판 목록 -->
<select id="se_list" resultType='notice.NoticeVO'>
select *
from tbl_board
where board_cate = 'O1' 
order by 1 desc
</select> 
<!-- 글쓰기 -->
<insert id="se_insert">
insert into tbl_board (board_title, board_content, board_cate, emp_no)
values (#{board_title}, #{board_content}, #{board_cate}, #{emp_no})
</insert>
<!-- 공지사항 / 익명게시판 내용 -->
<select id="no_info" resultType="notice.NoticeVO">
select o.*, e.emp_name
from tbl_board o
left join tbl_emp e
on o.emp_no = e.emp_no
</select>
<!-- 공지사항 / 익명게시판 글삭제 -->
<delete id="delete">
delete from tbl_board 
where board_no = #{board_no}
</delete>

<!-- 조회수 -->
<update id="hits">
update tbl_board
set board_hits = board_hits + 1
where board_no = #{board_no}
</update>

<!-- 게시글 수정 -->
<update id="update">
update tbl_board
set board_title = #{board_title}, board_content = #{board_content}
where board_no = #{board_no}
</update>



</mapper>